<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Page Reveal Effects | Codrops</title>
		<meta name="description" content="Some inspiration for multi-layer page reveal effects" />
		<meta name="keywords" content="overlay, reveal, effect, page transition, inspiration, javascript" />
		<meta name="author" content="Codrops" />
		<link rel="shortcut icon" href="favicon.ico">
		<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,600|Merriweather:400' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" type="text/css" href="css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="css/select-css.css" />
		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<link rel="stylesheet" type="text/css" href="css/component.css" />
		<link rel="stylesheet" type="text/css" href="css/blob.css" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"></script>
		<script src="js/modernizr-custom.js"></script>
	</head>
	<body>
		<!-- SVG symbol used for navigation arrows -->
		<svg class="hidden">
			<defs>
				<symbol id="icon-arrow" viewBox="0 0 39 51.43">
					<title>Arrow Left</title>
					<polygon points="7 25.71 36 45.71 36 26.08 36 5.71 7 25.71" stroke-miterlimit="10" stroke-width="6"/><line x1="3" y1="5.71" x2="3" y2="45.71" fill="none" stroke-miterlimit="10" stroke-width="6"/>
				</symbol>
			</defs>
			
		</svg>
		<main class="container">
					<div class="pages">
					
						<div class="loading_cont page page--current"><!-- intro page -->
							<svg version="1.1" xmlns="http://www.w3.org/2000/svg" id="loader">
								<defs>
									<filter id="goo">
										<feGaussianBlur in="SourceGraphic" result="blur" stdDeviation="10" />
										<feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />
										<feBlend in2="goo" in="SourceGraphic" result="mix" />
									</filter>
									<linearGradient id="MyGradient">
											<stop offset="5%"  stop-color="#40204c"/>
											<stop offset="40%" stop-color="#a3225c"/>
											<stop offset="100%" stop-color="#e24926"/>
									</linearGradient>
								</defs>
								<mask id="maska">
									<g class="blobs">
										<circle class="blob" cx="440" cy="250" r="30" transform="rotate(0) translate(0, 0) rotate(0)"/>
										<circle class="blob" cx="500" cy="320" r="70"  transform="rotate(0) translate(0, 0) rotate(0)"/>
										<circle class="blob" cx="300" cy="390" r="40"  transform="rotate(0) translate(0, 0) rotate(0)"/>
										<circle class="blob" cx="380" cy="390" r="80"  transform="rotate(0) translate(0, 0) rotate(0)"/>
										<circle class="blob" cx="470" cy="450" r="20"  transform="rotate(0) translate(0, 0) rotate(0)"/>
									</g>
								</mask>
								<rect x="200" y="200"  mask="url(#maska)" fill="url(#MyGradient)" width="400" height="400">
							</svg>	
						</div><!-- /page -->
						
						<div class="page page--first">
							
							<!--<blockquote class="quote">
								<p>A good lemon is someone who always looks both ways before crossing a one-way street. </p>
								<footer>Doug Linder</footer>
							</blockquote>-->
						</div>
						<div class="page page--second">
							<blockquote class="quote">
								<p>A good apple is someone who always looks both ways before crossing a one-way street. </p>
								<footer>Doug Linder</footer>
							</blockquote>
						</div>
						<div class="page page--third">
							<blockquote class="quote"> 
								<p>A good Swimmer is someone who always looks both ways before crossing a one-way street. </p>
								<footer>Doug Linder</footer>
							</blockquote>
						</div>
						<div class="page page--fourth">
							<blockquote class="quote"> 
								<p>A good Farmer is someone who always looks both ways before crossing a one-way street. </p>
								<footer>Doug Linder</footer>
							</blockquote>
						</div>
					</div><!-- /pages -->
					<nav class="pagenav">
						<button class="pagenav__button pagenav__button--bottom" aria-label="Navigate bottom"><img src="https://icongr.am/feather/arrow-down.svg" alt="bottom-arrow"></button>
						<button class="pagenav__button pagenav__button--right" aria-label="Navigate right"><img src="https://icongr.am/feather/arrow-right.svg " alt="right-arrow"></button>
						<button class="pagenav__button pagenav__button--left" aria-label="Navigate left"><img src="https://icongr.am/feather/arrow-left.svg " alt="left-arrow"></button>
						<button class="pagenav__button pagenav__button--top" aria-label="Navigate top"><img src="https://icongr.am/feather/arrow-up.svg" alt="top-arrow"></button>
					</nav>
			
		</main>
		<script src="../mighty-morphin-page-transitions/js/classie.js"></script>
		<script src="../mighty-morphin-page-transitions/js/main.js"></script>
		<script src="../mighty-morphin-page-transitions/js/blob.js"></script>
		<script>
		(function() {
			var pages = [].slice.call(document.querySelectorAll('.pages > .page')),
				currentPage = 0,
				nextPage;
				
				revealerOpts = {
					// the layers are the elements that move from the sides
					nmbLayers : 1,
					// bg color of each layer
					bgcolor : ['#0092DD', '#fff', '#3E3A35'],
					// effect classname
					effect : 'anim--effect-4',
					onStart : function(direction) {
						// next page gets class page--animate-[direction]
						if (direction === 'top') {
							nextPage = pages[currentPage === 0 ? 3 : 0];
							classie.add(nextPage, 'page--animate-' + direction);
						} else if (direction === 'right') {
							nextPage = pages[currentPage === 0 ? 4 : 0];
							classie.add(nextPage, 'page--animate-' + direction);
						} else if (direction === 'bottom') {
							nextPage = pages[currentPage === 0 ? 1 : 0];
							classie.add(nextPage, 'page--animate-' + direction);
						} else if (direction === 'left') {
							nextPage = pages[currentPage === 0 ? 2 : 0];
							classie.add(nextPage, 'page--animate-' + direction);
						}
					},
					onEnd : function(direction) {
						// remove class page--animate-[direction] from next page
						if (direction === 'top') {
							nextPage = pages[currentPage === 0 ? 3 : 0];
							nextPage.className = 'page';
						} else if (direction === 'right') {
							nextPage = pages[currentPage === 0 ? 4 : 0];
							nextPage.className = 'page';
						} else if (direction === 'bottom') {
							nextPage = pages[currentPage === 0 ? 1 : 0];
							nextPage.className = 'page';
						} else if (direction === 'left') {
							var nextPage = pages[currentPage === 0 ? 2 : 0];
							nextPage.className = 'page';
						}
					}
				};
				revealer = new Revealer(revealerOpts);

			// clicking the page nav buttons
			document.querySelector('button.pagenav__button--top').addEventListener('click', function() { reveal('top'); });
			document.querySelector('button.pagenav__button--left').addEventListener('click', function() { reveal('left'); });
			document.querySelector('button.pagenav__button--right').addEventListener('click', function() { reveal('right'); });
			document.querySelector('button.pagenav__button--bottom').addEventListener('click', function() { reveal('bottom'); });

			// triggers the effect by calling instance.reveal(direction, callbackTime, callbackFn)
			function reveal(direction) {
				var callbackTime = 750,
					callbackFn = function() {
						classie.remove(pages[currentPage], 'page--current');
						if (direction === 'top') {
							currentPage = currentPage === 0 ? 3 : 0;
							classie.add(pages[currentPage], 'page--current');
						} else if (direction === 'right') {
							currentPage = currentPage === 0 ? 4 : 0;
							classie.add(pages[currentPage], 'page--current');
						} else if (direction === 'bottom') {
							currentPage = currentPage === 0 ? 1 : 0;
							classie.add(pages[currentPage], 'page--current');
						} else if (direction === 'left') {
							currentPage = currentPage === 0 ? 2 : 0;
							classie.add(pages[currentPage], 'page--current');
						}
					};

				console.log(revealer.reveal(direction, callbackTime, callbackFn));
			}


		})();
		</script>
	</body>
</html>
